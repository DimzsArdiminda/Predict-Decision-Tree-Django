{% include 'layout/app.html' %}
<div class="container mt-5 mb-5">
    <h1 class="text-center">Sistem Prediksi Penyakit Jantung</h1>
    <div class="row mt-4">
        <form method="post" action="{% url 'predict' %}">
            {% csrf_token %}
            <div class="form-group">
                <label for="age">Masukkan usia (dalam tahun): </label>
                <input type="number" id="age" name="age" required class="form-control"> 
            </div>

            <div class="form-group">
                <label for="sex">Masukkan jenis kelamin (1 = Pria, 0 = Wanita): </label>
                <input type="number" id="sex" name="sex" required class="form-control" min="0" max="1">
            </div>
            
            <div class="form-group">
                <label for="chest_pain_type">Masukkan tipe nyeri dada (1, 2, 3, atau 4): </label>
                <input type="number" id="chest_pain_type" name="chest_pain_type" required class="form-control" min="1" max="4">
            </div>

            <div class="form-group">
                <label for="resting_bp">Masukkan tekanan darah istirahat (mm Hg): </label>
                <input type="number" id="resting_bp" name="resting_bp" required class="form-control">
            </div>

            <div class="form-group">
                <label for="cholesterol">Masukkan kolesterol (mg/dl): </label>
                <input type="number" id="cholesterol" name="cholesterol" required class="form-control">
            </div>

            <div class="form-group">
                <label for="fasting_blood_sugar">Masukkan kadar gula darah puasa (1 = True, 0 = False): </label>
                <input type="number" id="fasting_blood_sugar" name="fasting_blood_sugar" required class="form-control" min="0" max="1">
            </div>

            <div class="form-group">
                <label for="resting_ecg">Masukkan hasil elektrokardiogram istirahat (0, 1, atau 2): </label>
                <input type="number" id="resting_ecg" name="resting_ecg" required class="form-control" min="0" max="2">
            </div>

            <div class="form-group">
                <label for="max_heart_rate">Masukkan detak jantung maksimal (71-202): </label>
                <input type="number" id="max_heart_rate" name="max_heart_rate" required class="form-control" min="71" max="202">
            </div>

            <div class="form-group">
                <label for="exercise_angina">Apakah Anda mengalami angina yang dipicu oleh latihan? (1 = Ya, 0 = Tidak):  </label>
                <input type="number" id="exercise_angina" name="exercise_angina" required class="form-control" min="0" max="1">
            </div>

            <div class="form-group">
                <label for="oldpeak">Masukkan depresi ST oldpeak: </label>
                <input type="number" id="oldpeak" name="oldpeak" required placeholder="0.0 atau 1.0" class="form-control" min="0.0" max="1.0">
            </div>

            <div class="form-group">
                <label for="slope">Masukkan kemiringan segmen ST puncak latihan (0, 1, atau 2): </label>
                <input type="number" id="slope" name="slope" required class="form-control" min="0" max="2">
            </div>

            <button type="submit" class="btn btn-primary mt-3">Prediksi</button>
        </form>

        <!-- hasil -->
        {% if result %}
        <div class="container mt-5 mb-5">
            <h1 class="text-center">Hasil Prediksi Penyakit Jantung</h1>
        
            <div class="mt-4">
                <h3>Prediksi:</h3>
                <p>{{ result }}</p>
            </div>
        
            <div class="mt-4">
                <h3>Akurasi Model:</h3>
                <p>{{ accuracy_message }}</p>
            </div>
        
            <div class="mt-4">
                <h3>Laporan Klasifikasi:</h3>
                <pre>{{ classification_report }}</pre>
            </div>
        
            <div class="mt-4">
                <h3>Confusion Matrix:</h3>
                <table class="table">
                    <thead>
                        <tr>
                            <th></th>
                            <th>Prediksi Negatif</th>
                            <th>Prediksi Positif</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <th>Actual Negatif</th>
                            <td>{{ confusion_matrix.0.0 }}</td>
                            <td>{{ confusion_matrix.0.1 }}</td>
                        </tr>
                        <tr>
                            <th>Actual Positif</th>
                            <td>{{ confusion_matrix.1.0 }}</td>
                            <td>{{ confusion_matrix.1.1 }}</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        
        </div>


        {% endif %}
    </div>
</div>
